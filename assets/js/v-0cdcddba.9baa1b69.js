"use strict";(self.webpackChunkcclc_vuepress=self.webpackChunkcclc_vuepress||[]).push([[1672],{5614:(e,n,a)=>{a.r(n),a.d(n,{data:()=>s});const s={key:"v-0cdcddba",path:"/mess-knowledge/mac-mysql-0000-00-00.html",title:"【MySQL】MySQL中时间类型无法设置默认0000-00-00的解决方法",lang:"zh-CN",frontmatter:{title:"【MySQL】MySQL中时间类型无法设置默认0000-00-00的解决方法",date:"2016-11-14",categories:["Other"],tags:["MySQL"]},excerpt:"",headers:[],git:{},filePathRelative:"mess-knowledge/mac-mysql-0000-00-00.md"}},2961:(e,n,a)=>{a.r(n),a.d(n,{default:()=>c});var s=a(6252);const t=(0,s.uE)('<h1 id="【mysql】mysql中时间类型无法设置默认0000-00-00的解决方法" tabindex="-1"><a class="header-anchor" href="#【mysql】mysql中时间类型无法设置默认0000-00-00的解决方法" aria-hidden="true">#</a> 【MySQL】MySQL中时间类型无法设置默认0000-00-00的解决方法</h1><p>更新了 mysql 5.7.x 后发现原本的 date 类型和 datetime 类型等无法设置为 DEFAULT &#39;0000-00-00&#39;了。</p><p>原因是 5.7 默认开始用以下 sql mode :</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code>ONLY_FULL_GROUP_BY, STRICT_TRANS_TABLES, NO_ZERO_IN_DATE, NO_ZERO_DATE, ERROR_FOR_DIVISION_BY_ZERO, NO_AUTO_CREATE_USER, and NO_ENGINE_SUBSTITUTION\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中 NO_ZERO_IN_DATE, NO_ZERO_DATE 两个选项禁止了 0000 这样的日期和时间。因此在 mysql 的配置文件中，重新设置 sql-mode，去掉这两项就可以了。如：</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">sql-mode</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span>&quot;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>mac 端的 mysql 解决方法是：</p><p>在 MacOS 中默认是没有 my.cnf 文件，如果需要对 MySql 进行定制，拷贝/usr/local/mysql/support-files/目录中任意一个.cnf 文件。笔者拷贝的是 my-default.cnf，将它放到其他目录，按照上面修改完毕之后，更名为 my.cnf，然后拷贝到/etc 目录再重启下 mysql 就大功告成了。</p><p>win 端的对应文件是 mysql.ini，一般会在安装目录的根目录</p>',9),l={href:"http://www.07net01.com/2016/04/1479450.html",target:"_blank",rel:"noopener noreferrer"},r={href:"http://www.shangxueba.com/jingyan/1609295.html",target:"_blank",rel:"noopener noreferrer"},i={},c=(0,a(3744).Z)(i,[["render",function(e,n){const a=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[t,(0,s._)("p",null,[(0,s.Uk)("参考链接： "),(0,s._)("a",l,[(0,s.Uk)("http://www.07net01.com/2016/04/1479450.html"),(0,s.Wm)(a)]),(0,s._)("a",r,[(0,s.Uk)("http://www.shangxueba.com/jingyan/1609295.html"),(0,s.Wm)(a)])])],64)}]])},3744:(e,n)=>{n.Z=(e,n)=>{const a=e.__vccOpts||e;for(const[e,s]of n)a[e]=s;return a}}}]);