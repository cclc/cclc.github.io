"use strict";(self.webpackChunkcclc_vuepress=self.webpackChunkcclc_vuepress||[]).push([[3567],{1639:(e,n,i)=>{i.r(n),i.d(n,{data:()=>s});const s={key:"v-7e8a7682",path:"/mess-knowledge/wget-download-website.html",title:"【wget】wget下载整个网站，或者特定目录",lang:"zh-CN",frontmatter:{title:"【wget】wget下载整个网站，或者特定目录",date:"2017-06-13",categories:["Other"],tags:["wget"]},excerpt:"",headers:[],git:{},filePathRelative:"mess-knowledge/wget-download-website.md"}},8926:(e,n,i)=>{i.r(n),i.d(n,{default:()=>v});var s=i(6252);const l=(0,s._)("h1",{id:"【wget】wget下载整个网站-或者特定目录",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#【wget】wget下载整个网站-或者特定目录","aria-hidden":"true"},"#"),(0,s.Uk)(" 【wget】wget下载整个网站，或者特定目录")],-1),d={href:"http://www.cnblogs.com/lidp/archive/2010/03/02/1696447.html",target:"_blank",rel:"noopener noreferrer"},a=(0,s.uE)('<p>使用代理下载目录下的所有文件：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-c</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-np</span> <span class="token parameter variable">-k</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-p</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;http_proxy=http://127.0.0.1:8087&quot;</span> www.xxx.org/pub/path/\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>需要下载某个目录下面的所有文件。命令如下</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-c</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-np</span> <span class="token parameter variable">-k</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-p</span> www.xxx.org/pub/path/\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在下载时。有用到外部域名的图片或连接。如果需要同时下载就要用-H 参数。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-np</span> <span class="token parameter variable">-nH</span> <span class="token parameter variable">-r</span> --span-hosts www.xxx.org/pub/path/\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-c 断点续传\n-r 递归下载，下载指定网页某一目录下（包括子目录）的所有文件\n-nd 递归下载时不创建一层一层的目录，把所有的文件下载到当前目录\n-np 递归下载时不搜索上层目录，如wget -c -r www.xxx.org/pub/path/\n没有加参数-np，就会同时下载path的上一级目录pub下的其它文件\n-k 将绝对链接转为相对链接，下载整个站点后脱机浏览网页，最好加上这个参数\n-L 递归时不进入其它主机，如wget -c -r www.xxx.org/\n如果网站内有一个这样的链接：\nwww.yyy.org，不加参数-L，就会像大火烧山一样，会递归下载www.yyy.org网站\n-p 下载网页所需的所有文件，如图片等\n-A 指定要下载的文件样式列表，多个样式用逗号分隔\n-i 后面跟一个文件，文件内指明要下载的URL\n\n还有其他的用法，我从网上搜索的，也一并写上来，方便以后自己使用。\n\nwget的常见用法\n\nwget的使用格式\nUsage: wget [OPTION]… [URL]…\n\n* 用wget做站点镜像:\nwget -r -p -np -k http://dsec.pku.edu.cn/~usr_name/\n# 或者\nwget -m http://www.tldp.org/LDP/abs/html/\n\n* 在不稳定的网络上下载一个部分下载的文件，以及在空闲时段下载\nwget -t 0 -w 31 -c http://dsec.pku.edu.cn/BBC.avi -o down.log &amp;\n# 或者从filelist读入要下载的文件列表\nwget -t 0 -w 31 -c -B ftp://dsec.pku.edu.cn/linuxsoft -i filelist.txt -o\ndown.log &amp;\n\n上面的代码还可以用来在网络比较空闲的时段进行下载。我的用法是:在mozilla中将不方便当时下载的URL链接拷贝到内存中然后粘贴到文件filelist.txt中，在晚上要出去系统前执行上面代码的第二条。\n\n* 使用代理下载\nwget -Y on -p -k https://sourceforge.net/projects/wvware/\n\n代理可以在环境变量或wgetrc文件中设定\n\n# 在环境变量中设定代理\nexport PROXY=http://211.90.168.94:8080/\n# 在~/.wgetrc中设定代理\nhttp_proxy = http://proxy.yoyodyne.com:18023/\nftp_proxy = http://proxy.yoyodyne.com:18023/\n\nwget各种选项分类列表\n\n* 启动\n\n-V, –version 显示wget的版本后退出\n-h, –help 打印语法帮助\n-b, –background 启动后转入后台执行\n-e, –execute=COMMAND\n执行`.wgetrc&#39;格式的命令，wgetrc格式参见/etc/wgetrc或~/.wgetrc\n\n* 记录和输入文件\n\n-o, –output-file=FILE 把记录写到FILE文件中\n-a, –append-output=FILE 把记录追加到FILE文件中\n-d, –debug 打印调试输出\n-q, –quiet 安静模式(没有输出)\n-v, –verbose 冗长模式(这是缺省设置)\n-nv, –non-verbose 关掉冗长模式，但不是安静模式\n-i, –input-file=FILE 下载在FILE文件中出现的URLs\n-F, –force-html 把输入文件当作HTML格式文件对待\n-B, –base=URL 将URL作为在-F -i参数指定的文件中出现的相对链接的前缀\n–sslcertfile=FILE 可选客户端证书\n–sslcertkey=KEYFILE 可选客户端证书的KEYFILE\n–egd-file=FILE 指定EGD socket的文件名\n\n* 下载\n\n–bind-address=ADDRESS\n指定本地使用地址(主机名或IP，当本地有多个IP或名字时使用)\n-t, –tries=NUMBER 设定最大尝试链接次数(0 表示无限制).\n-O –output-document=FILE 把文档写到FILE文件中\n-nc, –no-clobber 不要覆盖存在的文件或使用.#前缀\n-c, –continue 接着下载没下载完的文件\n–progress=TYPE 设定进程条标记\n-N, –timestamping 不要重新下载文件除非比本地文件新\n-S, –server-response 打印服务器的回应\n–spider 不下载任何东西\n-T, –timeout=SECONDS 设定响应超时的秒数\n-w, –wait=SECONDS 两次尝试之间间隔SECONDS秒\n–waitretry=SECONDS 在重新链接之间等待1…SECONDS秒\n–random-wait 在下载之间等待0…2*WAIT秒\n-Y, –proxy=on/off 打开或关闭代理\n-Q, –quota=NUMBER 设置下载的容量限制\n–limit-rate=RATE 限定下载输率\n\n* 目录\n\n-nd –no-directories 不创建目录\n-x, –force-directories 强制创建目录\n-nH, –no-host-directories 不创建主机目录\n-P, –directory-prefix=PREFIX 将文件保存到目录 PREFIX/…\n–cut-dirs=NUMBER 忽略 NUMBER层远程目录\n\n* HTTP 选项\n\n–http-user=USER 设定HTTP用户名为 USER.\n–http-passwd=PASS 设定http密码为 PASS.\n-C, –cache=on/off 允许/不允许服务器端的数据缓存 (一般情况下允许).\n-E, –html-extension 将所有text/html文档以.html扩展名保存\n–ignore-length 忽略 `Content-Length&#39;头域\n–header=STRING 在headers中插入字符串 STRING\n–proxy-user=USER 设定代理的用户名为 USER\n–proxy-passwd=PASS 设定代理的密码为 PASS\n–referer=URL 在HTTP请求中包含 `Referer: URL&#39;头\n-s, –save-headers 保存HTTP头到文件\n-U, –user-agent=AGENT 设定代理的名称为 AGENT而不是 Wget/VERSION.\n–no-http-keep-alive 关闭 HTTP活动链接 (永远链接).\n–cookies=off 不使用 cookies.\n–load-cookies=FILE 在开始会话前从文件 FILE中加载cookie\n–save-cookies=FILE 在会话结束后将 cookies保存到 FILE文件中\n\n* FTP 选项\n\n-nr, –dont-remove-listing 不移走 `.listing&#39;文件\n-g, –glob=on/off 打开或关闭文件名的 globbing机制\n–passive-ftp 使用被动传输模式 (缺省值).\n–active-ftp 使用主动传输模式\n–retr-symlinks 在递归的时候，将链接指向文件(而不是目录)\n\n* 递归下载\n\n-r, –recursive 递归下载－－慎用!\n-l, –level=NUMBER 最大递归深度 (inf 或 0 代表无穷).\n–delete-after 在现在完毕后局部删除文件\n-k, –convert-links 转换非相对链接为相对链接\n-K, –backup-converted 在转换文件X之前，将之备份为 X.orig\n-m, –mirror 等价于 -r -N -l inf -nr.\n-p, –page-requisites 下载显示HTML文件的所有图片\n\n* 递归下载中的包含和不包含(accept/reject)\n\n-A, –accept=LIST 分号分隔的被接受扩展名的列表\n-R, –reject=LIST 分号分隔的不被接受的扩展名的列表\n-D, –domains=LIST 分号分隔的被接受域的列表\n–exclude-domains=LIST 分号分隔的不被接受的域的列表\n–follow-ftp 跟踪HTML文档中的FTP链接\n–follow-tags=LIST 分号分隔的被跟踪的HTML标签的列表\n-G, –ignore-tags=LIST 分号分隔的被忽略的HTML标签的列表\n-H, –span-hosts 当递归时转到外部主机\n-L, –relative 仅仅跟踪相对链接\n-I, –include-directories=LIST 允许目录的列表\n-X, –exclude-directories=LIST 不被包含目录的列表\n-np, –no-parent 不要追溯到父目录\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',7),r={},v=(0,i(3744).Z)(r,[["render",function(e,n){const i=(0,s.up)("ExternalLinkIcon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l,(0,s._)("p",null,[(0,s._)("strong",null,[(0,s.Uk)("转载自"),(0,s._)("a",d,[(0,s.Uk)("http://www.cnblogs.com/lidp/archive/2010/03/02/1696447.html"),(0,s.Wm)(i)])])]),a],64)}]])},3744:(e,n)=>{n.Z=(e,n)=>{const i=e.__vccOpts||e;for(const[e,s]of n)i[e]=s;return i}}}]);